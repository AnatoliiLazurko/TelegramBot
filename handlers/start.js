const { mainKeyboard } = require('../utils/mainButtons');
const { addMessage, deleteAllMessages } = require('../utils/messageStore');

module.exports = (bot) => {
    bot.start(async (ctx) => {
        await ctx.deleteMessage();
        await deleteAllMessages(ctx);
        
        const msg = await ctx.reply(
            "–ü—Ä–∏–≤—ñ—Ç, –º–µ–Ω–µ –∑–≤—É—Ç—å Sphinx Bot ü§ñ" +
            "\n\n–Ø –¥–æ–ø–æ–º–æ–∂—É —Ç–æ–±—ñ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ –Ω–æ–≤–∏–π –∞–∫–∞—É–Ω—Ç –∞–±–æ —É–≤—ñ–π—Ç–∏ –≤ —ñ—Å–Ω—É—é—á–∏–π, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –∑–∞–∫—Ä–∏—Ç–æ–≥–æ –∫–∞–Ω–∞–ª—É üîí –∑ –∫–æ—Ä–∏—Å–Ω–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ:" +
            "\n\nüìà –§—ñ–Ω–∞–Ω—Å–∏" +
            "\nüöÄ –°—É—á–∞—Å–Ω—ñ —Ç—Ä–µ–Ω–¥–∏" +
            "\nüí° –¶—ñ–∫–∞–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ" +
            "\n\n–ü—ñ—Å–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∏ –æ—Ç—Ä–∏–º–∞—î—à —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∏–π –∫–æ–¥ üéüÔ∏è, —è–∫–∏–π —Ç–∏ –∑–º–æ–∂–µ—à –≤–∏–∫–æ—Ä–∏—Å—Ç–∞—Ç–∏ –¥–ª—è —Å–∏—Å—Ç–µ–º–∏ –∫–µ—à–±–µ–∫—É üí∞, –∑–∞–ø—Ä–æ—à—É—é—á–∏ –Ω–æ–≤–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤!" +
            "\n\n–¢–∞–∫–æ–∂ —è –º–æ–∂—É –Ω–∞–¥–∞—Ç–∏ —Ç–æ–±—ñ –≤—Å—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é ‚ÑπÔ∏è –ø—Ä–æ –∑–∞–∫—Ä–∏—Ç–∏–π –∫–∞–Ω–∞–ª —Ç–∞ –ø—Ä–æ —Å–∏—Å—Ç–µ–º—É –∫–µ—à–±–µ–∫—É" +
            "\n\n–û–±–∏—Ä–∞–π —Å–≤–æ—î ‚¨áÔ∏è",
            mainKeyboard()
        );
        addMessage(ctx.from.id, msg.message_id);
    });

    bot.action('main', async (ctx) => {
        await ctx.answerCbQuery();
        await ctx.deleteMessage();
        await deleteAllMessages(ctx); 

        const msg = await ctx.reply(
            "–ü—Ä–∏–≤—ñ—Ç, –º–µ–Ω–µ –∑–≤—É—Ç—å Sphinx Bot ü§ñ" +
            "\n\n–Ø –¥–æ–ø–æ–º–æ–∂—É —Ç–æ–±—ñ –∑–∞—Ä–µ—î—Å—Ç—Ä—É–≤–∞—Ç–∏ –Ω–æ–≤–∏–π –∞–∫–∞—É–Ω—Ç –∞–±–æ —É–≤—ñ–π—Ç–∏ –≤ —ñ—Å–Ω—É—é—á–∏–π, —â–æ–± –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ –∑–∞–∫—Ä–∏—Ç–æ–≥–æ –∫–∞–Ω–∞–ª—É üîí –∑ –∫–æ—Ä–∏—Å–Ω–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –ø—Ä–æ:" +
            "\n\nüìà –§—ñ–Ω–∞–Ω—Å–∏" +
            "\nüöÄ –°—É—á–∞—Å–Ω—ñ —Ç—Ä–µ–Ω–¥–∏" +
            "\nüí° –¶—ñ–∫–∞–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ" +
            "\n\n–ü—ñ–¥ —á–∞—Å —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∏ –æ—Ç—Ä–∏–º–∞—î—à —Ä–µ—Ñ–µ—Ä–∞–ª—å–Ω–∏–π –∫–æ–¥ üéüÔ∏è, —è–∫–∏–π –¥–æ–∑–≤–æ–ª–∏—Ç—å –∑–∞—Ä–æ–±–ª—è—Ç–∏ —Ä–µ–∞–ª—å–Ω—ñ –≥—Ä–æ—à—ñ üí∞, –∑–∞–ø—Ä–æ—à—É—é—á–∏ –Ω–æ–≤–∏—Ö –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤!" +
            "\n\n–¢–∞–∫–æ–∂ —è –º–æ–∂—É –Ω–∞–¥–∞—Ç–∏ —Ç–æ–±—ñ –≤—Å—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—é ‚ÑπÔ∏è –ø—Ä–æ –∑–∞–∫—Ä–∏—Ç–∏–π –∫–∞–Ω–∞–ª —Ç–∞ –ø—Ä–æ —Å–∏—Å—Ç–µ–º—É –∫–µ—à–±–µ–∫—É" +
            "\n\n–û–±–∏—Ä–∞–π —Å–≤–æ—î ‚¨áÔ∏è",
            mainKeyboard()
        );
        addMessage(ctx.from.id, msg.message_id);
    });
};