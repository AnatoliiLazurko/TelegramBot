const { userMenuKeyboard } = require("../utils/userMenuButtons");
const { addMessage, deleteAllMessages } = require('../utils/messageStore');

async function userMenuAction(ctx, user) {
    await ctx.deleteMessage();
    await deleteAllMessages(ctx);

    const msg = await ctx.reply(
        "‚úÖ –í—Ö—ñ–¥ —É—Å–ø—ñ—à–Ω–∏–π! –õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ, " + user.username + "!" +
        "\n\n‚ú® –û—Å—å –≤–∞—à –¥–æ—Å—Ç—É–ø –¥–æ –æ—Å–Ω–æ–≤–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π —Ç–∞ –º–æ–∂–ª–∏–≤–æ—Å—Ç–µ–π, —è–∫—ñ –¥–æ–ø–æ–º–æ–∂—É—Ç—å –≤–∞–º –ø–æ–≤–Ω–æ—é –º—ñ—Ä–æ—é –Ω–∞—Å–æ–ª–æ–¥–∂—É–≤–∞—Ç–∏—Å—è –Ω–∞—à–∏–º–∏ –ø–µ—Ä–µ–≤–∞–≥–∞–º–∏." +
        "\n\n–í–∏–±–µ—Ä—ñ—Ç—å –ø–æ—Ç—Ä—ñ–±–Ω–∏–π —Ä–æ–∑–¥—ñ–ª —ñ —É–ø—Ä–∞–≤–ª—è–π—Ç–µ —Å–≤–æ—ó–º –∞–∫–∞—É–Ω—Ç–æ–º, –ø—ñ–¥–ø–∏—Å–∫–æ—é —Ç–∞ –±–æ–Ω—É—Å–∞–º–∏ –∑ –ª–µ–≥–∫—ñ—Å—Ç—é! üöÄüìä",

        userMenuKeyboard()
    );
    addMessage(ctx.from.id, msg.message_id);
}

module.exports = { userMenuAction };